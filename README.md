# API для YaMDb
Проект YaMDb собирает отзывы пользователей на произведения. Сами произведения в YaMDb не хранятся, здесь нельзя посмотреть фильм или послушать музыку.
## Проект представляет собой реализацию API сети отзывов YaMDB
Произведения делятся на категории, такие как «Книги», «Фильмы», «Музыка». Например, в категории «Книги» могут быть произведения «Винни-Пух и все-все-все» и «Марсианские хроники», а в категории «Музыка» — песня «Давеча» группы «Жуки» и вторая сюита Баха. Список категорий может быть расширен (например, можно добавить категорию «Изобразительное искусство» или «Ювелирка»). 
Произведению может быть присвоен жанр из списка предустановленных (например, «Сказка», «Рок» или «Артхаус»). 
Добавлять произведения, категории и жанры может только администратор.
Благодарные или возмущённые пользователи оставляют к произведениям текстовые отзывы и ставят произведению оценку в диапазоне от одного до десяти (целое число); из пользовательских оценок формируется усреднённая оценка произведения — рейтинг (целое число). На одно произведение пользователь может оставить только один отзыв.
Пользователи могут оставлять комментарии к отзывам.
Добавлять отзывы, комментарии и ставить оценки могут только аутентифицированные пользователи.

Ресурсы API YaMDb

+ Ресурс auth: аутентификация. Регистрация пользователей и выдача кода доступа на электронную почту.
    /api/v1/auth/signup/
    /api/v1/auth/token/
+ Ресурс users: пользователи. Просмотр данных пользователя для определённого токена.
    /api/v1/users/
+ Ресурс titles: произведения, к которым пишут отзывы (определённый фильм, книга или песенка).
    /api/v1/titles/
+ Ресурс categories: категории (типы) произведений («Фильмы», «Книги», «Музыка»). Одно произведение может быть привязано только к одной категории.
    /api/v1/categories/
+ Ресурс genres: жанры произведений. Одно произведение может быть привязано к нескольким жанрам.
    /api/v1/genres/
+ Ресурс reviews: отзывы на произведения. Отзыв привязан к определённому произведению.
    /api/v1/titles/{title_id}/reviews/
+ Ресурс comments: комментарии к отзывам. Комментарий привязан к определённому отзыву.
    /api/v1/titles/{title_id}/reviews/{review_id}/comments/


API позволяет отправлять запросы и получать данные
 об объектах в формате JSON с различных эндпоинтов.
Проект является бэкенд-частью общего проекта в рамках реализации концепции SPA
 для взаимодействия с другими приложениями через API.


### В проекте реализована Аутентификация по JWT-токену с подтверждением регистрации по электронной почте

Преимущества JWT-токена в том, что прямо в нём записана информация о пользователе и сроке годности токена,
 системе не нужно  каждый раз обращаться к базе данных, чтобы их сопоставить.

> API в рамках выполнения аутентификации по JWT-токену обрабатывает **POST**-запрос к эндпойнтам:

+ /api/v1/auth/token/ — Получение JWT-токена.

### В проекте реализована агрузка данных в формате csv посредством management-команды, добавляющей данные в БД через Django ORM.

## Установка — как развернуть и запустить проект на локальной машине

> Клонировать репозиторий и перейти в него в командной строке

+ git@github.com:G-YURY/api_yamdb.git
+ cd api_yamdb

> Cоздать и активировать виртуальное окружение, обновить установщик pip

+ python -m venv env
+ source env/Scripts/activate
+ python -m pip install --upgrade pip

> Установить зависимости из файла requirements.txt

+ pip install -r requirements.txt

> Выполнить миграции

+ python manage.py migrate

> Запустить проект

+ python manage.py runserver

## Примеры. Некоторые примеры запросов к API

### Регистрация нового пользователя (ответ — HTTP/1.1 200 OK)
POST http://127.0.0.1:8000/api/v1/auth/signup/
Content-Type: application/json

{
  "email": "capt_obvious@yamdb.fake",
  "username": "capt_obvious"
}

### Создание jwt-токена для пользователя с кодом, пришедшим на электронную почту (ответ — HTTP/1.1 200 OK)
POST http://127.0.0.1:8000/api/v1/auth/token/
Content-Type: application/json

{
  "username": "capt_obvious",
  "confirmation_code": "52895"
}

Ответ
> {
>
> "token": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJ0b2tlbl90eXBlIjoicmVmcmVzaCIsImV4cCI6MTY4MjA3NDM5NCwianRpIjoiZDhlNmJh
  YzQ3YTE5NDk4MTgzNzhmN2E4MmQ5ZmZlNmIiLCJ1c2VyX2lkIjoxfQ.9zPMtkk1ld
  _d7jd0t8z-qhzlpsF1DkPqkluGB_fPJsg"
>
> }
